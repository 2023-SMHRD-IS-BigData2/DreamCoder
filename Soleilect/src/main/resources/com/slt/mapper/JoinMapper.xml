<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.slt.mapper.JoinMapper">

	<!-- 회원가입
		현재 Role은 MEMBER로 고정되어 생성되게 되어있음! -->
	<insert id="join" parameterType="com.slt.entity.User">
		INSERT INTO users (user_id, user_pw, user_name, user_nick, user_role, joined_at) VALUES (#{user_id}, sha2(#{user_pw},384),#{user_name}, #{user_nick}, 'MEMBER', NOW());
	</insert>
	<select id="idCheck" parameterType="String">
		select * from users where user_id = #{id}
	</select>
	<select id="nickCheck" parameterType="String">
		select * from users where user_nick = #{nick}
	</select>

</mapper>